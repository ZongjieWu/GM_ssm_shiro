<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="candidates, career, employment, freelance, glassdoor, Human Resource Management, indeed, job board, job listing, job portal, job postings, jobs, listings, recruitment, resume">
<meta name="CreativeLayers" content="ATFN">
<!-- css file -->
<link rel="stylesheet" href="../css/bootstrap.min.css">
<link rel="stylesheet" href="../css/style.css">
<!-- Responsive stylesheet -->
<link rel="stylesheet" href="../css/responsive.css">
<!-- Title -->
<title>注册 - 华顿教师人才</title>
<!-- Favicon -->
<link href="/static/common/image/hdrc.jpg" sizes="128x128" rel="shortcut icon" type="image/x-icon" />
<link href="/static/common/image/hdrc.jpg" sizes="128x128" rel="shortcut icon" />

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	  <link rel="stylesheet" href="/static/layuiadmin/layui/css/layui.css" media="all">
	<![endif]-->

	<style>
		.layui-upload-file {
			width: 150px;
			height: 89px;
			margin-left: -155px;
			margin-top: 36px;
			z-index: 111;
			opacity: -1.5;
		}
		.footer_social_widget ul {
			text-align: left;
		}
		.header_user_notif li:first-child span:last-child {
			background-color:transparent;
		}
	</style>
</head>
<body>
<div class="wrapper" id="app">
	<div class="preloader"></div>
	<script src="login_head.js"></script>
	<!-- Our LogIn Register -->
	<section class="our-log-reg bgc-fa">
		<div class="container">
			<div class="row">
				<div class="col-sm-12 col-lg-6" style="margin-left:25%;">
					<div class="sign_up_form">
						<div class="heading">
							<h3 class="text-center">注册</h3>
							<p class="text-center">已经有账号? <a class="text-thm" href="login.html">登入</a></p>
						</div>
						<div class="tab-content" id="pills-tabContent">
							<div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
								<form>
									<div class="form-group">
								    	<input type="text" class="form-control" id="name" placeholder="企业名称">
									</div>
									<div class="form-group">
								    	<input type="text" class="form-control" id="phone" placeholder="电话号码" maxlength="11">
									</div>
									<div class="form-group">
								    	<input type="password" class="form-control" id="pwd" placeholder="密码">
									</div>
									<div class="form-group">
										<input type="password" class="form-control" id="confirmPwd" placeholder="确认秘密">
									</div>
									<!--<div class="col-md-6 col-lg-6">-->
										<!--<div class="my_profile_input form-group">-->
											<!--<label>企业logo</label>-->
											<!--<span class="layui-input-inline" id="test5" style="right:-171px;;">-->
										<!--<span class="layui-upload-list">-->
											<!--<img class="layui-upload-img" id="logo" style="width: 150px;height:150px;" src="/static/upload/image/blank.jpg">-->
											<!--<span id="demoText5"></span>-->
										<!--</span>-->
									<!--</span>-->
										<!--</div>-->
									<!--</div>-->
									<!--<div class="col-md-6 col-lg-6">-->
										<!--<div class="my_profile_input form-group">-->
											<!--<label>营业执照</label>-->
											<!--<span class="layui-input-inline" id="test1" style="right:-171px;;">-->
										<!--<span class="layui-upload-list">-->
											<!--<img class="layui-upload-img" id="businessLicense" style="width: 150px;height:150px;" src="/static/upload/image/blank.jpg">-->
											<!--<span id="demoText1"></span>-->
										<!--</span>-->
									<!--</span>-->
										<!--</div>-->
									<!--</div>-->
									<!--<div class="col-md-6 col-lg-6">-->
										<!--<div class="my_profile_input form-group">-->
											<!--<label>办学资质</label>-->
											<!--<span class="layui-input-inline" id="test2" style="right:-171px;;">-->
										<!--<span class="layui-upload-list">-->
											<!--<img class="layui-upload-img" id="teacherAptitude" style="width: 150px;height:150px;" src="/static/upload/image/blank.jpg">-->
											<!--<span id="demoText2"></span>-->
										<!--</span>-->
									<!--</span>-->
										<!--</div>-->
									<!--</div>-->
									<!--<div class="col-md-6 col-lg-6">-->
										<!--<div class="my_profile_input form-group">-->
											<!--<label>法人身份证</label>-->
											<!--<span class="layui-input-inline" id="test3" style="right:-171px;;">-->
										<!--<span class="layui-upload-list">-->
											<!--<img class="layui-upload-img" id="legalIdCard" style="width: 150px;height:150px;" src="/static/upload/image/blank.jpg">-->
											<!--<span id="demoText3"></span>-->
										<!--</span>-->
									<!--</span>-->
										<!--</div>-->
									<!--</div>-->
									<!--<div class="col-md-6 col-lg-6">-->
										<!--<div class="my_profile_input form-group">-->
											<!--<label>打款凭证</label>-->
											<!--<span class="layui-input-inline" id="test4" style="right:-171px;;">-->
										<!--<span class="layui-upload-list">-->
											<!--<img class="layui-upload-img" id="remitAuthentication" style="width: 150px;height:150px;" src="/static/upload/image/blank.jpg">-->
											<!--<span id="demoText4"></span>-->
										<!--</span>-->
									<!--</span>-->
										<!--</div>-->
									<!--</div>-->

									<button type="button" class="btn btn-log btn-block btn-dark" onclick="next();">确定</button>
									<hr>

								</form>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<script src="footer.js"></script>
	<script src="jumpPage.js"></script>
<a class="scrollToHome text-thm" href="#"><i class="flaticon-rocket-launch"></i></a>
</div>
<!-- Wrapper End -->
<script type="text/javascript" src="../js/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../js/jquery-migrate-3.0.0.min.js"></script>
<script type="text/javascript" src="../js/popper.min.js"></script>
<script type="text/javascript" src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/jquery.mmenu.all.js"></script>
<script type="text/javascript" src="../js/ace-responsive-menu.js"></script>
<script type="text/javascript" src="../js/bootstrap-select.min.js"></script>
<script type="text/javascript" src="../js/snackbar.min.js"></script>
<script type="text/javascript" src="../js/simplebar.js"></script>
<script type="text/javascript" src="../js/parallax.js"></script>
<script type="text/javascript" src="../js/scrollto.js"></script>
<script type="text/javascript" src="../js/jquery-scrolltofixed-min.js"></script>
<script type="text/javascript" src="../js/jquery.counterup.js"></script>
<script type="text/javascript" src="../js/wow.min.js"></script>
<script type="text/javascript" src="../js/progressbar.js"></script>
<script type="text/javascript" src="../js/slider.js"></script>
<script type="text/javascript" src="../js/timepicker.js"></script>
<script type="text/javascript" src="../js/wow.min.js"></script>
<!-- Custom script for all pages -->
<script type="text/javascript" src="../js/script.js"></script>

<script type="text/javascript" src="/static/common/js/vue.js"></script>
<script src="/static/layuiadmin/layui/layui.js"></script>

<script>
    layui.use(['form','layer','upload'], function() {
        var form = layui.form;
        var layer = layui.layer;
        var upload = layui.upload;

        //普通图片上传
        var uploadInst = upload.render({
            elem: '#test1'
            , url: '/upload/image/uploadImg'
            , data: {
                baseCatalog: "/static/upload/image/enterprise/businessLicense"
            }
            , before: function (obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function (index, file, result) {
                    $('#businessLicense').attr('src', result); //图片链接（base64）
                });
            }
            , done: function (res) {
                //如果上传失败
                if (res.code == 0) {
                    $('#businessLicense').attr('src', "/"+res.data);
                    return layer.msg('上传成功');
                } else {
                    return layer.msg('上传失败');
                }
                //上传成功
            }
            , error: function () {
            }
        });
        //普通图片上传
        var uploadInst2 = upload.render({
            elem: '#test2'
            , url: '/upload/image/uploadImg'
            , data: {
                baseCatalog: "/static/upload/image/enterprise/teacherAptitude"
            }
            , before: function (obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function (index, file, result) {
                    $('#teacherAptitude').attr('src', result); //图片链接（base64）
                });
            }
            , done: function (res) {
                //如果上传失败
                if (res.code == 0) {
                    $('#teacherAptitude').attr('src', "/"+res.data);
                    return layer.msg('上传成功');
                } else {
                    return layer.msg('上传失败');
                }
                //上传成功
            }
            , error: function () {
            }
        });
        //普通图片上传
        var uploadInst3 = upload.render({
            elem: '#test3'
            , url: '/upload/image/uploadImg'
            , data: {
                baseCatalog: "/static/upload/image/enterprise/legalIdCard"
            }
            , before: function (obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function (index, file, result) {
                    $('#legalIdCard').attr('src', result); //图片链接（base64）
                });
            }
            , done: function (res) {
                //如果上传失败
                if (res.code == 0) {
                    $('#legalIdCard').attr('src', "/"+res.data);
                    return layer.msg('上传成功');
                } else {
                    return layer.msg('上传失败');
                }
                //上传成功
            }
            , error: function () {

            }
        });
        //普通图片上传
        var uploadInst4 = upload.render({
            elem: '#test4'
            , url: '/upload/image/uploadImg'
            , data: {
                baseCatalog: "/static/upload/image/enterprise/remitAuthentication"
            }
            , before: function (obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function (index, file, result) {
                    $('#remitAuthentication').attr('src', result); //图片链接（base64）
                });
            }
            , done: function (res) {
                //如果上传失败
                if (res.code == 0) {
                    $('#remitAuthentication').attr('src', "/"+res.data);
                    return layer.msg('上传成功');
                } else {
                    return layer.msg('上传失败');
                }
                //上传成功
            }
            , error: function () {
                //演示失败状态，并实现重传

            }
        });
        //普通图片上传
        var uploadInst5 = upload.render({
            elem: '#test5'
            , url: '/upload/image/uploadImg'
            , data: {
                baseCatalog: "/static/upload/image/enterprise/logo"
            }
            , before: function (obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function (index, file, result) {
                    $('#logo').attr('src', result); //图片链接（base64）
                });
            }
            , done: function (res) {
                //如果上传失败
                if (res.code == 0) {
                    $('#logo').attr('src', "/"+res.data);
                    return layer.msg('上传成功');
                } else {
                    return layer.msg('上传失败');
                }
                //上传成功
            }
            , error: function () {

            }
        });
    });
    var app;
    function next() {
        var data={};
        data.id=$("#id").val();
        data.name=$("#name").val();
        if(data.name==null||data.name==""){
            alert("名称不能为空");
            return false;
		}
        data.phone=$("#phone").val();
        if(data.phone.length!=11){
            alert("手机号码必须为11位");
            return false;
        }
        if(!(/^1[34578]\d{9}$/.test($("#phone").val()))){
            alert("手机号码有误，请重填");
            return false;
        }

        data.pwd=$("#pwd").val();
        if(data.pwd==null||data.pwd==""){
            alert("密码不能为空");
            return false;
		}
        data.confirmPwd=$("#confirmPwd").val();
        if(data.pwd!=data.confirmPwd){
            alert("密码不一致");
            return;
        }
//        data.logo=$("#logo").attr("src").substring(1,$("#logo").attr("src").length);
//        data.businessLicense=$("#businessLicense").attr("src").substring(1,$("#businessLicense").attr("src").length);
//        data.teacherAptitude=$("#teacherAptitude").attr("src").substring(1,$("#teacherAptitude").attr("src").length);
//        data.legalIdCard=$("#legalIdCard").attr("src").substring(1,$("#legalIdCard").attr("src").length);
//        data.remitAuthentication=$("#remitAuthentication").attr("src").substring(1,$("#remitAuthentication").attr("src").length);
        console.log(data);
        $.post('/api/enterprise/add',data,function (res) {
            if(res.code==0){
                alert(res.msg);
                window.location.href="login.html";
            }else{
                alert(res.msg);
            }
        });

    }

    app = new Vue({
        el: '#app',
        data: {
            userId:0,
            edu:"",
            status:0,
            enterpriseName:"",
            enterpriseLogo:"",
        },
        created: function () {
            this.detail();
        },
        methods: {
            detail: function () {
                this.enterpriseName=JSON.parse(localStorage.getItem("enterprise")).name;
                this.enterpriseLogo=JSON.parse(localStorage.getItem("enterprise")).logo;
            },
            aquireParam: function (name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);
                if (r != null) return unescape(r[2]);
                return null;
            }
        }
    });

    $("#edu").select({
        title: "选择学历",
        items: [
            {
                title: "高中",
                value: "0",
            },
            {
                title: "专科",
                value: "1",
            },
            {
                title: "本科",
                value: "2",
            },  {
                title: "研究生",
                value: "3",
            },  {
                title: "博士",
                value: "4",
            }
        ],
        onChange: function(d) {
            app.edu=d.values;
            $("#edu").attr("data-value",d.values);
            console.log(this, d);
        },
        onClose: function(d) {
            console.log("close");
        },
        onOpen: function(d) {
            console.log("open");
            console.log(d);

        },
    });
    $("#status").select({
        title: "选择招聘状态",
        items: [
            {
                title: "在招",
                value: "0",
            },
            {
                title: "急招",
                value: "1",
            },
            {
                title: "停招",
                value: "2",
            }
        ],
        onChange: function(d) {
            app.edu=d.values;
            console.log(this, d);
        },
        onClose: function() {
            console.log("close");
        },
        onOpen: function() {
            console.log("open");
        },
    });


    function edu(data) {
        if(data==0){
            return "高中";
        }else if(data==1){
            return "专科";
        }else if(data==2){
            return "本科";
        }else if(data==3){
            return "研究生";
        }else if(data==4){
            return "博士";
        }
    }
    function status(data) {
        if(data==0){
            return "在招";
        }else if(data==1){
            return "急招";
        }else if(data==2){
            return "停招";
        }
    }
    function jumpEnterprise() {
        window.location.href="enterprise.html"
    }
</script>
</body>
</html>